.\" Text automatically generated by txt2man
.TH eyefiserver.conf 5 "29 January 2013" "eyefiserver" "File formats and conventions"
.SH NAME
\fBeyefiserver.conf \fP- Settings file for eyefiserver
\fB
.SH DESCRIPTION
/etc/eyefiserver.conf is organised in sections whose name are enclosed in brackets.
.PP
The global section is named [EyeFiServer]. The names of the other optional sections are the MAC address of the Eye-Fi card. The macaddress must be in lower case and without dashes. For example, if your card has a MAC address 00-18-56-50-EF-F9, the section should be named [00185650eff9].
.PP
All keys described bellow are searched first in the section specific to the Eye-Fi card, then, if not found, it is search in the global [EyeFiServer] section. This means you can set up a global default value, then override it for a few specific cards.
.PP
You don't need card specific section at all if you have only one Eye-Fi card.
.PP
There is only one compulsory key, the upload_key. See bellow.
.SH KEYS

.TP
.B
loglevel
This defines the verbosity of the server. Valid values are DEBUG, INFO, WARNING, ERROR and FATAL.
.RS
.PP
Default value is DEBUG.
.PP
This is the one exception to section behaviour as this key is only allowed in the [EyeFiServer] global section.
.RE
.TP
.B
upload_key
To use this script you need to have your Eye-Fi upload key.
.RS
.PP
You can find it after configuring the card, which you can currently on do only on windows or mac.
.PP
Windows: see C:\\Documents and Settings\\<User>\\Application Data\\Eye-Fi\\Settings.xml
.PP
Mac: ~/Applications Data/Eye-Fi/Settings.xml
.RE
.TP
.B
upload_dir
This is the location where the files from the Eye-Fi card will be put.
.RS
.PP
Starting ~ will be replaced by user home directory.
.PP
%X will be replaced by a datetime fragment according to python time.strftime format: For exemple, on January 1st 2013, running as www-data, upload_dir=~/eyefi/%Y/%Y%m%d will put files in /var/www/eyefi/2013/20130101/. See http://docs.python.org/library/time.html#time.strftime.
.PP
Default value is ~/eyefi.
.RE
.TP
.B
complete_execute
Name of a command to be run after each file download.
.RS
.PP
Example on Windows:
.PP
complete_execute=C:\\Windows\\system32\\mspaint.exe
.PP
Example on Linux:
.PP
complete_execute=/usr/bin/display
.RE
.TP
.B
progress_execute
This parameter executes the specified command every few seconds while file is being received.
.RS
.PP
Parameters of the called program:
.PP
$1: the full file path of the temporary TAR file. Thumbnail can be extracted from the partial file.
.PP
$2: final tar size in bytes
.PP
$3: speed in bps
.RE
.TP
.B
use_date_from_file
This can be On or Off.
.RS
.PP
upload_dir key might contain variable parts such as %Y%m%d, that are replaced by the datetime values.
.PP
If use_date_from_file is On, the reference date will be the one the picture was taken rather than the transfer date.
.RE
.TP
.B
integrity_verification
This can be On or Off.
.RS
.PP
When turned Off, it disables file integrity checks. This used to be necessary when downloading large files, because the algorithm was so slow that timeout occurred. This should no longer be the case.
.PP
Default value is On.
.SH EXAMPLES
.SS  MINIMAL EXAMPLE

[EyeFiServer] 
.PP
upload_key=774e46f14990456a9ab7b4d22f1da138
.SS  MULTICARD EXAMPLE

[EyeFiServer]
.PP
loglevel=INFO
.PP
[00185650efe9]
.PP
upload_key=774e46f14990456a9ab7b4d22f1da138
.PP
upload_dir=/var/www/eyefi/%Y/card1/%Y%m%d
.PP
[00185650efea]
.PP
upload_key=11a3e229084349bc25d97e29393ced1d
.PP
upload_dir=/var/www/eyefi/%Y/card2/%Y%m%d
.SS  PROGRESS METER
#!/bin/bash
.PP
# That file is an example for progress_execute target
.PP
# It requires X server access, run eyefiserver as a regular user
.PP
FILENAME=$1
.PP
TARGETSIZE=$2
.PP
SPEED=$3
.PP
notify-send \fB-u\fP low "Receiving $FILENAME" "Speed: $SPEED bps"
.SH AUTHORS
eyefiserver was written by Jeffrey Tchang.
.PP
This manual page was written by Jean-Michel Nirgal Vourg√®re.
.SH SEE ALSO
\fBeyefiserver\fP(1)
